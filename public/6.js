(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{16:function(t,e,r){"use strict";r.r(e);var o,a=r(1),n=r.n(a),s=r(3),i=r(7);function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e,r,o,a,n,s){try{var i=t[n](s),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(o,a)}var u=(c(o={layout:function(t,e){return t(s.a,[e])}},"layout",s.a),c(o,"computed",{componentName:function(){return"category-create-modal"},componentProps:function(){return this.category?(console.log("customer---x",this.category),{category:this.category}):{}}}),c(o,"created",(function(){console.log("categories =>",this.categories,this.errors)})),c(o,"props",{categories:{type:Array,default:[]},errors:{type:Object}}),c(o,"watch",{errors:function(t,e){console.log("Prop changed: ",t," | was: ",e)}}),c(o,"components",{CategoryCreateModal:i.default}),c(o,"data",(function(){return{form:{email:"",password:""},category:null}})),c(o,"methods",{editCategory:function(t){var e=this;this.category=t,console.log("checking",this.category),this.$nextTick((function(){return e.$refs.modal.show(t)}))},deleteCategory:function(t){var e,r=this;return(e=n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.loading=!0,console.log("category store",t),r.loading=!1,r.$refs.modal.hide(),e.next=6,r.$inertia.delete(r.route("categories.delete",{category:t.id}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(o,a){var n=e.apply(t,r);function s(t){l(n,o,a,s,i,"next",t)}function i(t){l(n,o,a,s,i,"throw",t)}s(void 0)}))})()}}),o),d=r(2),m=Object(d.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-12 col-lg-16"},[r("div",{attrs:{id:"tables"}},[r("div",{staticClass:"card"},[t._m(0),t._v(" "),r("div",{staticClass:"card-body"},[r("button",{staticClass:"btn btn-outline-primary align-self-end",on:{click:function(e){return t.$refs.modal.show()}}},[t._v("\n                            Create Category\n                        ")]),t._v(" "),r("div",{staticClass:"table-responsive"},[t.$page.errors.name?r("div",{staticClass:"alert alert-danger alert-dismissible fade show my-4",attrs:{role:"alert"}},[r("strong",[t._v(t._s(t.$page.errors.name[0]))]),t._v(" "),t._m(1)]):t._e(),t._v(" "),r("table",{staticClass:"table table-sm table-striped my-4"},[t._m(2),t._v(" "),r("tbody",t._l(t.categories,(function(e,o){return r("tr",{key:o},[r("th",{attrs:{scope:"row"}},[t._v(t._s(o+1))]),t._v(" "),r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[r("a",{attrs:{href:"#!"},on:{click:function(r){return t.editCategory(e)}}},[t._v("edit")]),t._v(" | \n                                     "),r("a",{attrs:{href:"#!"},on:{click:function(r){return t.deleteCategory(e)}}},[t._v("delete")])])])})),0)])])])])])]),t._v(" "),r(t.componentName,t._b({ref:"modal",tag:"component"},"component",t.componentProps,!1))],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header mt-md-5"},[e("h1",{staticClass:"header-title"},[this._v("\n                        Categories\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Action")])])])}],!1,null,null,null);e.default=m.exports},7:function(t,e,r){"use strict";r.r(e);var o=r(1),a=r.n(o);function n(t,e,r,o,a,n,s){try{var i=t[n](s),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(o,a)}var s={name:"CategoryCreateModal",props:{category:{type:Object,default:null}},components:{},data:function(){return{form:{},loading:!1,image:null,images:[],mode:"create"}},computed:{errors:function(){return this.$page.errors}},methods:{hide:function(){this.$refs.modal.hide(),this.form={}},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("category",this.category,t),this.form={},this.category&&(this.form={name:this.category.name},console.log("this.form",this.form)),this.$refs.modal.show()},submit:function(){var t,e=this;return(t=a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,console.log("sending form",e.form),!e.category){t.next=10;break}return console.log("category update",e.category.id,e.category),e.loading=!1,e.$refs.modal.hide(),t.next=8,e.$inertia.post(e.route("categories.update",{category:e.category.id}),e.form);case 8:t.next=15;break;case 10:return console.log("category store"),e.loading=!1,e.$refs.modal.hide(),t.next=15,e.$inertia.post(e.route("categories.store"),e.form);case 15:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(o,a){var s=t.apply(e,r);function i(t){n(s,o,a,i,c,"next",t)}function c(t){n(s,o,a,i,c,"throw",t)}i(void 0)}))})()}}},i=r(2),c=Object(i.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("modal",{ref:"modal",attrs:{direction:"right",title:"Add new Category"},on:{close:t.hide}},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Enter Category Name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),t._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])])])])}),[],!1,null,"20935c49",null);e.default=c.exports}}]);